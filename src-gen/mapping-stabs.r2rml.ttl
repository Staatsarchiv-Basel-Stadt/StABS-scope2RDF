PREFIX rr: <http://www.w3.org/ns/r2rml#>
PREFIX rico: <https://www.ica.org/standards/RiC/ontology#>

<#level_archive>
	rr:logicalTable [ rr:sqlQuery """SELECT * FROM MVK_OGD_VRZNG_ENHT_1 WHERE ID_NR = 548575""" ];
	
	rr:subjectMap [
		rr:template "http://ld.staatsarchiv.bs.ch/Agent/{ID_NR}" ;
		rr:class rico:CorporateBody ;
	];
	
	rr:predicateObjectMap [
		rr:predicate rico:name ;
		rr:objectMap [
			rr:column "TITEL" ;
		];
	]
.
<#level_abt>
	rr:logicalTable [ rr:sqlQuery """SELECT * FROM MVK_OGD_VRZNG_ENHT_1 WHERE HIERARCHIE_PFAD LIKE '00000796390000548575%' and STUFE like 'Abteilung'""" ];
	
	rr:subjectMap [
		rr:template "http://ld.staatsarchiv.bs.ch/RecordResource/{ID_NR}" ;
		rr:class rico:RecordSet ;
	];
	
	rr:predicateObjectMap [
		rr:predicate rico:hasRecordSetType ;
		rr:objectMap [
			rr:constant <https://www.ica.org/standards/RiC/vocabularies/recordSetTypes#Collection> ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate rico:isOrWasIncludedIn ;
		rr:objectMap [
			rr:template "http://ld.staatsarchiv.bs.ch/RecordResource/{PARENT_ID_NR}" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate rico:name ;
		rr:objectMap [
			rr:column "TITEL" ;
			rr:language "ger" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate rico:identifier ;
		rr:objectMap [
			rr:column "SIGNATUR" ;
			rr:language "zxx" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate rico:date ;
		rr:objectMap [
			rr:column "ENTSTEHUNGSZEITRAUM" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate rico:measure ;
		rr:objectMap [
			rr:column "UMFANG_GESCHAETZT" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate rico:history ;
		rr:objectMap [
			rr:column "BESTANDSGESCHICHTE" ;
			rr:language "ger" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate rico:history ;
		rr:objectMap [
			rr:column "VERWALTUNGSGESCHICHTE_BIOGRAFI" ;
			rr:language "ger" ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate rico:conditionsOfAccess ;
		rr:objectMap [
			rr:column "ZUGANGS_BESTIMMUNGEN" ;
			rr:language "ger" ;
		];
	]
.
<#level_fonds>
	rr:logicalTable [ rr:sqlQuery """SELECT ID_NR, PARENT_ID_NR FROM MVK_OGD_VRZNG_ENHT_1 WHERE STUFE LIKE 'Fonds'""" ];
	
	rr:subjectMap [
		rr:template "http://ld.staatsarchiv.bs.ch/RecordResource/{ID_NR}" ;
		rr:class rico:RecordSet ;
	];
	
	rr:predicateObjectMap [
		rr:predicate rico:hasRecordSetType ;
		rr:objectMap [
			rr:constant <https://www.ica.org/standards/RiC/vocabularies/recordSetTypes#Fonds> ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate rico:isOrWasIncludedIn ;
		rr:objectMap [
			rr:template "http://ld.staatsarchiv.bs.ch/RecordResource/{PARENT_ID_NR}" ;
		];
	]
.
<#level_best>
	rr:logicalTable [ rr:sqlQuery """SELECT ID_NR, PARENT_ID_NR FROM MVK_OGD_VRZNG_ENHT_1 WHERE STUFE LIKE 'Bestand'""" ];
	
	rr:subjectMap [
		rr:template "http://ld.staatsarchiv.bs.ch/RecordResource/{ID_NR}" ;
		rr:class rico:RecordSet ;
	];
	
	rr:predicateObjectMap [
		rr:predicate rico:hasRecordSetType ;
		rr:objectMap [
			rr:constant <https://www.ica.org/standards/RiC/vocabularies/recordSetTypes#Fonds> ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate rico:isOrWasIncludedIn ;
		rr:objectMap [
			rr:template "http://ld.staatsarchiv.bs.ch/RecordResource/{PARENT_ID_NR}" ;
		];
	]
.
<#level_series>
	rr:logicalTable [ rr:sqlQuery """SELECT ID_NR, PARENT_ID_NR FROM MVK_OGD_VRZNG_ENHT_1 WHERE STUFE LIKE 'Serie'""" ];
	
	rr:subjectMap [
		rr:template "http://ld.staatsarchiv.bs.ch/RecordResource/{ID_NR}" ;
		rr:class rico:RecordSet ;
	];
	
	rr:predicateObjectMap [
		rr:predicate rico:hasRecordSetType ;
		rr:objectMap [
			rr:constant <https://www.ica.org/standards/RiC/vocabularies/recordSetTypes#Series> ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate rico:isOrWasIncludedIn ;
		rr:objectMap [
			rr:template "http://ld.staatsarchiv.bs.ch/RecordResource/{PARENT_ID_NR}" ;
		];
	]
.
<#level_dossier>
	rr:logicalTable [ rr:sqlQuery """SELECT ID_NR FROM MVK_OGD_VRZNG_ENHT_1 WHERE STUFE LIKE 'Dossier'""" ];
	
	rr:subjectMap [
		rr:template "http://ld.staatsarchiv.bs.ch/RecordResource/{ID_NR}" ;
		rr:class rico:Record ;
	];
	
	rr:predicateObjectMap [
		rr:predicate rico:hasRecordSetType ;
		rr:objectMap [
			rr:constant <https://www.ica.org/standards/RiC/vocabularies/recordSetTypes#File> ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate rico:isOrWasIncludedIn ;
		rr:objectMap [
			rr:template "http://ld.staatsarchiv.bs.ch/RecordResource/{PARENT_ID_NR}" ;
		];
	]
.
<#level_dokument>
	rr:logicalTable [ rr:sqlQuery """SELECT ID_NR FROM MVK_OGD_VRZNG_ENHT_1 WHERE STUFE LIKE 'Dokument'""" ];
	
	rr:subjectMap [
		rr:template "http://ld.staatsarchiv.bs.ch/RecordResource/{ID_NR}" ;
		rr:class rico:RecordPart ;
	];
	
	rr:predicateObjectMap [
		rr:predicate rico:hasRecordSetType ;
		rr:objectMap [
			rr:constant <https://www.ica.org/standards/RiC/vocabularies/recordSetTypes#File> ;
		];
	];
	rr:predicateObjectMap [
		rr:predicate rico:isOrWasConstituentOf ;
		rr:objectMap [
			rr:template "http://ld.staatsarchiv.bs.ch/RecordResource/{PARENT_ID_NR}" ;
		];
	]
.